<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Sock Dashboard</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f2f2f2; }
    h1 { text-align: center; }
    .sensor { background: #fff; padding: 15px; margin: 10px 0; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    .sensor h2 { margin: 0 0 10px; }
  </style>
</head>
<body>
  <h1>Smart Sock Dashboard</h1>
  <div id="sensors"></div>

  <script>
    const firebaseURL = "https://sock-sensor-data-default-rtdb.firebaseio.com/sensors.json"; // Replace with your Firebase URL

    async function fetchSensors() {
      try {
        const response = await fetch(firebaseURL);
        const data = await response.json();

        const container = document.getElementById('sensors');
        container.innerHTML = '';

        if (!data) {
          container.innerHTML = '<p>No sensor data yet.</p>';
          return;
        }

        // Loop through all sensor entries
        for (const key in data) {
          const entry = data[key];

          const div = document.createElement('div');
          div.className = 'sensor';
          div.innerHTML = `
            <h2>Sensor ID: ${key}</h2>
            <p>Temperature: ${entry.temperature ?? 'N/A'} Â°C</p>
            <p>Humidity: ${entry.humidity ?? 'N/A'} %</p>
            <p>Pressure: ${entry.pressure ?? 'N/A'}</p>
          `;
          container.appendChild(div);
        }
      } catch (err) {
        console.error(err);
        document.getElementById('sensors').innerHTML = '<p>Error fetching sensor data.</p>';
      }
    }

    // Refresh every 2 seconds
    fetchSensors();
    setInterval(fetchSensors, 2000);
  </script>
</body>
</html>

